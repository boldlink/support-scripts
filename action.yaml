name: Environment Variables Validate
description: Validate environment variables against Dockerfile and env_vars.tf

inputs:
  dockerfile_path:
    description: 'Path to the Dockerfile'
    required: true
  terraform_dir:
    description: 'Path to the Terraform directory'
    required: true

runs:
  using: 'ubuntu-latest'
  steps:
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'

    - name: Checkout Repository
      uses: actions/checkout@v2

    - name: Run Variables Validate Script
      run: |
        python scripts/github_actions/dockerfile_variables_validate/variables_validate.py ${{ inputs.dockerfile_path }} ${{ inputs.terraform_dir }}
